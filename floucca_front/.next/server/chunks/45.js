exports.id=45,exports.ids=[45],exports.modules={1919:(e,t,r)=>{Promise.resolve().then(r.bind(r,3766))},9322:(e,t,r)=>{Promise.resolve().then(r.bind(r,5508))},4160:(e,t,r)=>{Promise.resolve().then(r.bind(r,3553)),Promise.resolve().then(r.bind(r,380))},9859:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},3766:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(326);r(7577);var a=r(4885);function l({children:e}){return s.jsx(a.e,{children:e})}},3885:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(326),a=r(7577),l=r(4723),o=r(8787);let n=(0,r(9664).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var i=r(774),c=r(8745);let d=({required:e,onChange:t})=>{let{register:r,watch:d,formState:{errors:u}}=(0,l.cI)({defaultValues:{fleet_owner:"",fleet_registration:void 0,fleet_hp:void 0,fleet_crew:void 0,fleet_max_weight:void 0,fleet_length:void 0}});return(0,a.useEffect)(()=>{let e=d(e=>{void 0!==e.fleet_owner&&t(e)});return()=>e.unsubscribe()},[d,t]),(0,s.jsxs)("div",{className:"rounded-lg border border-blue-200 p-6 space-y-6 ",children:[s.jsx("div",{className:"flex items-center gap-3 text-gray-600",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Boat Information"})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4 p-4 rounded-lg border border-blue-200 bg-blue-50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-800",children:[s.jsx(n,{className:"w-4 h-4"}),s.jsx("h3",{className:"font-medium",children:"Boat Identity"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(o.Z,{label:"Boat Owner Name",name:"fleet_owner",required:e,placeholder:"Enter owner's name",register:r,error:u.fleet_owner?.message})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(o.Z,{label:"Boat Registration Number",name:"fleet_registration",required:e,placeholder:"Enter registration number",type:"number",register:r,error:u.fleet_registration?.message})})]})]}),(0,s.jsxs)("div",{className:"space-y-4 p-4 rounded-lg border border-blue-200 bg-blue-50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-800",children:[s.jsx(i.Z,{className:"w-4 h-4"}),s.jsx("h3",{className:"font-medium",children:"Fleet Details"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(o.Z,{label:"Boat Fleet Hourse Power",name:"fleet_hp",required:e,placeholder:"Enter fleet hourse power",type:"number",register:r,error:u.fleet_hp?.message})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(o.Z,{label:"Fleet Crew Count",name:"fleet_crew",required:e,placeholder:"Enter crew count",register:r,type:"number",error:u.fleet_crew?.message})})]})]}),(0,s.jsxs)("div",{className:"space-y-4 p-4 rounded-lg border border-blue-200 bg-blue-50 md:col-span-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-800",children:[s.jsx(c.Z,{className:"w-4 h-4"}),s.jsx("h3",{className:"font-medium",children:"Boat Specifications"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(o.Z,{label:"Boat Maximum Weight",name:"fleet_max_weight",required:e,placeholder:"Enter max weight (kg)",register:r,type:"number",error:u.fleet_max_weight?.message})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(o.Z,{label:"Boat Length",name:"fleet_length",required:e,placeholder:"Enter length (meters)",register:r,type:"number",error:u.fleet_length?.message})})]})]})]})]})}},8402:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(326);r(7577);var a=r(380);let l=({ports:e,onPortChange:t,className:r})=>{let{selectedPort:l,setSelectedPort:o}=(0,a.A)();return(0,s.jsxs)("div",{className:`${r||""}`,children:[(0,s.jsxs)("label",{htmlFor:"port-select",className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Port ",s.jsx("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("select",{id:"port-select",value:l?.toString()||"",onChange:e=>{let r=e.target.value;if(r){let e=parseInt(r,10);o(e),t?.(e)}else o(null),t?.(0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[s.jsx("option",{value:"",disabled:!0,children:"Select a port"}),e.map(e=>s.jsx("option",{value:e.port_id.toString(),children:e.port_name},e.port_id))]})]})}},5508:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(326);r(7577);var a=r(3040),l=r(434);function o(){return s.jsx("header",{className:"bg-white border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-3",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)(l.default,{href:"/",className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx(a.Z,{className:"h-8 w-8 text-blue-600"}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600 tracking-tight",children:"FLOUCA"}),s.jsx("p",{className:"text-sm text-gray-500 -mt-1",children:"Fish Landing System"})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"University of Balamand"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Koura Campus"}),s.jsx("p",{className:"text-sm text-gray-600",children:"example@balamand.edu.lb"}),s.jsx("p",{className:"text-sm text-gray-600",children:"+961 000 000"})]})]})})})}},3553:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(326);r(7577);var a=r(434),l=r(5047);let o=()=>{let e=(0,l.usePathname)();return s.jsx("nav",{className:"bg-white border-b shadow-sm",children:(0,s.jsxs)("div",{className:"container mx-auto px-[5%] py-4 flex justify-between items-center",children:[s.jsx(a.default,{href:"/dataoperator/forms/effort-and-landing",className:`${"/effort-and-landing"===e?"text-blue-600 font-semibold":"text-gray-800"} font-medium hover:text-blue-600`,children:"Effort and Landing"}),s.jsx(a.default,{href:"/dataoperator/forms/census-form",className:`${"/fleet-census"===e?"text-blue-600 font-semibold":"text-gray-800"} font-medium hover:text-blue-600`,children:"Fleet Census"}),s.jsx(a.default,{href:"/dataoperator/submission-history",className:`${"/submission-history"===e?"text-blue-600 font-semibold":"text-gray-800"} font-medium hover:text-blue-600`,children:"Submission History"})]})})}},9255:(e,t,r)=>{"use strict";function s(e,t=36e5){try{let r=`${e}_timestamp`,s=localStorage.getItem(r);if(!s)return!1;let a=parseInt(s,10);return Date.now()-a<t}catch(e){return console.error("Error checking cache validity:",e),!1}}function a(e,t=36e5){try{if(!s(e,t))return null;let r=localStorage.getItem(e);if(!r)return null;return JSON.parse(r)}catch(e){return console.error("Error retrieving from cache:",e),null}}function l(e,t){try{let r=`${e}_timestamp`;localStorage.setItem(e,JSON.stringify(t)),localStorage.setItem(r,Date.now().toString())}catch(e){console.error("Error saving to cache:",e)}}function o(e){try{let t=`${e}_timestamp`;localStorage.removeItem(e),localStorage.removeItem(t)}catch(e){console.error("Error removing from cache:",e)}}r.d(t,{TK:()=>a,cW:()=>l,kI:()=>s,nZ:()=>o})},8787:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(326);r(7577);let a=({label:e,name:t,type:r="text",required:a=!1,placeholder:l="",min:o=0,max:n,register:i,error:c})=>(0,s.jsxs)("div",{className:"form-group mb-2",children:[(0,s.jsxs)("label",{htmlFor:t,className:"block text-gray-700 text-sm font-semibold mb-1",children:[e," ",a&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:r,id:t,...i(t,{required:a,valueAsNumber:"number"===r,validate:"number"===r?e=>!isNaN(e)&&(void 0===o||e>=o)&&(void 0===n||e<=n)||`Value must be between ${o} and ${n}`:void 0}),placeholder:l,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${c?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,onKeyDown:e=>{"number"===r&&("-"===e.key||"e"===e.key)&&e.preventDefault()},onInput:e=>{let t=parseInt(e.currentTarget.value,10);void 0!==n&&t>n&&(e.currentTarget.value=n.toString()),void 0!==o&&t<o&&(e.currentTarget.value=o.toString())},required:a,min:"number"===r?o:void 0,max:"number"===r?n:void 0,step:"number"===r?"any":void 0}),c&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c})]})},1094:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(326),a=r(7577);let l=(0,r(9664).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var o=r(4926),n=r(3020);let i=({type:e,message:t,isVisible:r,onClose:i,autoClose:c=!0,duration:d=5e3})=>((0,a.useEffect)(()=>{let e;return r&&c&&(e=setTimeout(()=>{i()},d)),()=>{e&&clearTimeout(e)}},[r,c,d,i]),r)?s.jsx("div",{className:"fixed bottom-6 right-6 z-50 max-w-md w-full animate-slide-up",children:(0,s.jsxs)("div",{className:`rounded-lg shadow-lg p-4 flex items-center justify-between
          ${"success"===e?"bg-green-50 text-green-800 border-l-4 border-green-500":"bg-red-50 text-red-800 border-l-4 border-red-500"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:["success"===e?s.jsx(l,{className:"h-5 w-5 text-green-500 flex-shrink-0"}):s.jsx(o.Z,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"font-medium",children:t})]}),s.jsx("button",{onClick:i,className:`p-1 rounded-full hover:bg-${"success"===e?"green":"red"}-100`,children:s.jsx(n.Z,{className:"h-4 w-4"})})]})}):null},3258:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(326);r(7577);let a=({isSubmitting:e,disabled:t=!1,label:r="Submit"})=>(0,s.jsxs)("div",{className:"relative group",children:[s.jsx("button",{type:"submit",className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 ${e||t?"opacity-50 cursor-not-allowed":""}`,disabled:e||t,children:e?"Submitting...":r}),t&&s.jsx("div",{className:"absolute transform -translate-x-1/2 bg-gray-700 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Please fill all required fields."})]})},4885:(e,t,r)=>{"use strict";r.d(t,{P:()=>c,e:()=>d});var s=r(326),a=r(7577),l=r(9570),o=r(4337);let n={FORM_GEARS:"flouca_form_gears",FORM_SPECIES:"flouca_form_species",FORM_PORTS:"flouca_form_ports"},i=(0,a.createContext)(void 0);function c(){let e=(0,a.useContext)(i);if(!e)throw Error("useFormsData must be used within a FormsDataProvider");return e}function d({children:e}){let t=(0,o.N)(l.Z7,n.FORM_GEARS),r=(0,o.N)(l.XZ,n.FORM_SPECIES),a=(0,o.N)(l.LH,n.FORM_PORTS),c=async()=>{await Promise.all([t.refetch(),r.refetch(),a.refetch()])},d=t.isLoading||r.isLoading||a.isLoading,u=t.error||r.error||a.error,m=[t.lastFetched,r.lastFetched,a.lastFetched].filter(Boolean),f=m.length>0?Math.max(...m):null,h={gears:t.data,species:r.data,ports:a.data,isLoading:d,error:u,lastFetched:f,refetch:c};return s.jsx(i.Provider,{value:h,children:d?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500"})}):e})}},380:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,PortProvider:()=>o});var s=r(326),a=r(7577);let l=(0,a.createContext)(void 0);function o({children:e}){let[t,r]=(0,a.useState)(null);return s.jsx(l.Provider,{value:{selectedPort:t,setSelectedPort:r},children:e})}function n(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("usePort must be used within a PortProvider");return e}},4337:(e,t,r)=>{"use strict";r.d(t,{N:()=>o,f:()=>l});var s=r(7577),a=r(9255);let l=e=>{let t=new Date(e);return`${t.getDate().toString().padStart(2,"0")}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getFullYear()} ${t.getHours?t.getHours():""} ${e.includes("T")?e.split("T")[1].split(".")[0].substring(0,5):""}`.trim()},o=(e,t,r=36e5)=>{let[l,o]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(null),f=async()=>{try{i(!0),d(null),console.log(`Fetching fresh data for ${t}...`);let r=await e();o(r),(0,a.cW)(t,r),m(Date.now()),console.log(`Fresh data for ${t} fetched and cached successfully`)}catch(e){console.error(`Error fetching data for ${t}:`,e),d(`Failed to load ${t} data. Please try again.`)}finally{i(!1)}};return(0,s.useEffect)(()=>{(async()=>{let e=(0,a.TK)(t,r);if(e){console.log(`Data for ${t} loaded from cache successfully`),o(e);let r=localStorage.getItem(`${t}_timestamp`);m(r?parseInt(r,10):null),i(!1)}else await f()})()},[t]),{data:l,isLoading:n,error:c,lastFetched:u,refetch:f}}},6890:(e,t,r)=>{"use strict";r.d(t,{x1:()=>a,zG:()=>l});var s=r(4099);let a=s.Z.create({baseURL:"http://localhost:4000",headers:{"Content-Type":"application/json"}}),l=(e,t)=>{if(console.error(`Error ${t}:`,e),s.Z.isAxiosError(e)&&e.response){if(console.error("Error response data:",e.response.data),console.error("Error response status:",e.response.status),e.response.data&&"object"==typeof e.response.data)throw{message:e.response.data.message||`Server error (${t})`,statusCode:e.response.status,details:e.response.data};throw Error(`Server error (${e.response.status}): ${e.message}`)}throw Error(`Failed to ${t}. Please check your connection and try again.`)}},9570:(e,t,r)=>{"use strict";r.d(t,{V$:()=>c,Z7:()=>l,Kh:()=>n,LH:()=>a,JL:()=>i,XZ:()=>o,PF:()=>u,DE:()=>d});var s=r(6890);let a=async()=>{try{return(await s.x1.get("/ports")).data}catch(e){return(0,s.zG)(e,"fetching ports")}},l=async()=>{try{return(await s.x1.get("/api/dev/gear/all/gear")).data}catch(e){return(0,s.zG)(e,"fetching gears")}},o=async()=>{try{return(await s.x1.get("/species/all")).data}catch(e){return(0,s.zG)(e,"fetching species")}},n=async()=>{try{return(await s.x1.get("/api/dev/period/all/period")).data}catch(e){return(0,s.zG)(e,"fetching periods")}},i=async()=>{try{return(await s.x1.get("/region/all")).data}catch(e){return(0,s.zG)(e,"fetching regions")}},c=async()=>{try{return(await s.x1.get("/api/coop/all")).data}catch(e){return(0,s.zG)(e,"fetching coops")}},d=async e=>{try{let t=JSON.parse(JSON.stringify(e));return console.log("Sending landing data to API:",JSON.stringify(t,null,2)),(await s.x1.post("/api/dev/landings/create/form",t)).data}catch(e){return(0,s.zG)(e,"submitting landing form")}},u=async e=>{try{let t=JSON.parse(JSON.stringify(e));return console.log("Sending fleet senses data to API:",JSON.stringify(t,null,2)),(await s.x1.post("/api/dev/fleet_senses/form/create",t)).data}catch(e){return(0,s.zG)(e,"submitting fleet senses form")}}},3070:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>l,default:()=>n});var s=r(8570);let a=(0,s.createProxy)(String.raw`/Users/cbf/dev/uob/Floucca/floucca_front/app/dataoperator/forms/layout.tsx`),{__esModule:l,$$typeof:o}=a;a.default;let n=(0,s.createProxy)(String.raw`/Users/cbf/dev/uob/Floucca/floucca_front/app/dataoperator/forms/layout.tsx#default`)},4901:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(9510),a=r(8570);let l=(0,a.createProxy)(String.raw`/Users/cbf/dev/uob/Floucca/floucca_front/contexts/PortContext.tsx`),{__esModule:o,$$typeof:n}=l;l.default;let i=(0,a.createProxy)(String.raw`/Users/cbf/dev/uob/Floucca/floucca_front/contexts/PortContext.tsx#PortProvider`);(0,a.createProxy)(String.raw`/Users/cbf/dev/uob/Floucca/floucca_front/contexts/PortContext.tsx#usePort`);let c=(0,a.createProxy)(String.raw`/Users/cbf/dev/uob/Floucca/floucca_front/components/navigators/nav-bar-form.tsx`),{__esModule:d,$$typeof:u}=c;c.default;let m=(0,a.createProxy)(String.raw`/Users/cbf/dev/uob/Floucca/floucca_front/components/navigators/nav-bar-form.tsx#default`);function f({children:e}){return(0,s.jsxs)(i,{children:[s.jsx(m,{}),s.jsx("main",{children:e})]})}r(1159)},9813:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>u});var s=r(9510),a=r(5384),l=r.n(a),o=r(8570);let n=(0,o.createProxy)(String.raw`/Users/cbf/dev/uob/Floucca/floucca_front/components/headers/form-header.tsx`),{__esModule:i,$$typeof:c}=n;n.default;let d=(0,o.createProxy)(String.raw`/Users/cbf/dev/uob/Floucca/floucca_front/components/headers/form-header.tsx#default`);r(7272),r(1159);let u={title:"Flouca Web",description:"Flouca Web Fish Landing System"};function m({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:l().className,children:[s.jsx(d,{}),e]})})}},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(6621);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7272:()=>{},4926:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(9664).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1315:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(9664).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7084:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(9664).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3020:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(9664).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}};